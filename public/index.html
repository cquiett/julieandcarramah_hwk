<!DOCTYPE html>
<html lang="en" dir="ltr" ng-app="MyApp">
    <head>
        <meta charset="utf-8">
        <title>Movies</title>
        <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.7.8/angular.min.js" charset="utf-8"></script>
        <script src="js/app.js" charset="utf-8"></script>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
        <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

        <link rel="stylesheet" href="/css/app.css">
    </head>
    <body ng-controller="MyController as ctrl">

        <div class="container">
            <header>
                <h1>Create a Movie</h1>
            </header>
            <div class="row">
                <form ng-submit="ctrl.createMovie()">
                    <input
                      type="text"
                      placeholder="Title"
                      ng-model="ctrl.title">
                    <input
                      type="text"
                      placeholder="Year"
                      ng-model="ctrl.year">
                    <input
                      type="text"
                      placeholder="Rating"
                      ng-model="ctrl.rating">
                  <input type="submit" value="Create Movie">
                </form>
            </div>
            <div ng-repeat="movie in ctrl.movies">
                <div class="row">
                    <div class="col s5">
                        <h4>{{movie.title}}</h4>
                        <h6>{{movie.year}}</h6>
                        <h6>{{movie.rating}}</h6>
                    </div>
                    <div class="col s2">
                        <button
                            ng-click="ctrl.deletedMovie(movie)">
                            <i class="material-icons">delete_forever</i>
                        </button>
                    </div>
                </div>
                <div class="row">
                    <form ng-submit="ctrl.editMovie(movie)">
                        <input
                          type="text"
                          placeholder="Title"
                          ng-model="ctrl.updatedTitle">
                        <input
                          type="text"
                          placeholder="Year"
                          ng-model="ctrl.updatedYear">
                        <input
                          type="text"
                          placeholder="Rating"
                          ng-model="ctrl.updatedRating">
                        <i class="material-icons">edit</i>
                      <input class="btn-flat" type="submit" value="Save Changes">
                    </form>
                </div>
            </div>
        </div>

    </body>
</html>
